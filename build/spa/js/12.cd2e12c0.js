(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"96bb":function(t,e,a){},b5c2:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.lib.currentCreator?a("div",{ref:"scrollArea",staticClass:"library-creator q-pa-md q-pb-lg"},[a("q-card",{staticClass:"creator-info relative-position overflow-hidden q-mb-sm",style:{boxShadow:"0 1px 2px rgba(0, 0, 0, 0.48)",border:t.$q.dark.isActive?"1px solid rgba(255,255,255,0.24)":"none"}},[a("q-card-section",{directives:[{name:"intersection",rawName:"v-intersection",value:t.intersect,expression:"intersect"}],staticStyle:{height:"140px"}},[a("div",{staticClass:"absolute-top-left bg-black full-width full-height overflow-hidden"},[a("img",{staticStyle:{filter:"brightness(0.7)"},attrs:{src:t.profile.avatar,width:"100%"},on:{error:t.onAvatarError}}),a("div",{staticClass:"absolute-top-left full-width full-height",staticStyle:{"box-shadow":"inset 0 0 50px rgba(0,0,0,0.8)"}})])]),a("q-card-section",{staticClass:"q-py-none q-mb-md q-pr-none flex no-wrap items-start bg-transparent relative-position",staticStyle:{height:"calc(60px + 4px)"}},[a("q-avatar",{staticClass:"q-ml-xs bg-black creator-avatar",attrs:{size:"120px"}},[t.isLoadCreatorAvatar?a("img",{attrs:{src:t.profile.avatar},on:{error:t.onCreatorAvatarError,load:t.onCreatorAvatarLoaded}}):t._e(),t.isLoadCreatorAvatar?t._e():a("q-icon",{staticStyle:{color:"#ccc"},attrs:{name:"account_circle",size:"90px"}})],1),a("div",{staticClass:"q-px-md overflow-hidden full-height full-width flex items-center justify-start"})],1),a("q-card-section",{staticClass:"q-pt-none column items-start overflow-hidden full-width"},[a("div",{staticClass:"channel-title text-h6 text-weight-bold ellipsis",staticStyle:{"max-width":"100%"},attrs:{title:t.profile.name}},[t._v("\n        "+t._s(t.profile.name)+"\n      ")]),t.profile.id?a("div",{staticClass:"flex items-center no-wrap overflow-hidden",staticStyle:{width:"fit-content","max-width":"100%"}},[a("div",{staticClass:"creator-id ellipsis col-shrink",staticStyle:{"font-size":"0.9rem"}},[a("span",[t._v("@"+t._s(t.profile.id))])]),a("q-space"),a("q-btn",{staticClass:"q-ml-sm q-pa-xs",attrs:{unelevated:"",color:"general","text-color":"general",icon:"content_copy",size:"xs",dense:""},on:{click:t.copyCreatorId}},[a("q-tooltip",[a("span",[t._v(t._s("ID: "))]),a("span",[t._v("@"+t._s(t.profile.id))])])],1)],1):t._e()]),t.profile.description?a("q-card-section",{staticClass:"q-pt-none creator-section overflow-hidden"},[a("div",{staticClass:"creator-description q-mb-sm scroll-y"},[t._v(t._s(t.profile.description))])]):t._e()],1),a("div",{staticClass:"creator-flex-layout flex justify-center"},[t.filteredChannels.length?[t._l(t.filteredChannels,(function(e){return a("ChannelCard",{key:e.id,attrs:{id:e.id,title:e.title,description:e.description,image:e.image,soul:e.soul,hidden:e.hidden,followable:!t.followedIds.includes(e.id)},on:{detail:t.showChannelDetail,follow:t.onFollow}})})),a("i"),a("i"),a("i"),a("i"),a("i"),a("i"),a("i"),a("i")]:a("div",{staticClass:"empty-placeholder full-width text-center text-subtitle1"},[a("q-icon",{attrs:{name:"help_outline"}}),a("span",{staticClass:"empty-hint q-ml-sm"},[t._v(t._s(t.$t("credit_no_data")))])],1)],2),a("BackToTop",{attrs:{show:t.showBackToTop},on:{click:t.scrollTop}})],1):t._e()},o=[],r=a("cdde"),s=a("5ea8"),l=a("0ebe"),n=a("4aad"),c=a("bae3"),d={name:"LibraryCreator",components:{ChannelCard:s["a"],BackToTop:l["a"]},data(){return{profile:{name:this.$t("loading"),id:"",avatar:"",description:""},showBackToTop:!1,isLoadCreatorAvatar:!0,lib:n["a"]}},computed:{filteredChannels(){const t=this.lib.search.text.toLowerCase(),e=this.lib.search.option.value,a=t=>{switch(e){case"channelID":return t.id;default:return t.title}},i=i=>{var o;const r=null===(o=a(i))||void 0===o?void 0:o.toLowerCase();return"channelID"===e&&r===t||!i.hidden&&r.includes(t)};return this.lib.currentCreator.channels.filter((t=>n["a"].allChannelList.some((e=>e.id===t.id)))).filter(i)},followedIds(){return n["a"].followingChannels.map((t=>t.id))}},watch:{profile(t,e){if(t&&t.avatar!==e.avatar&&(this.isLoadCreatorAvatar=!0),t&&t.name){const e=`/library/creator?fromChannel=1&name=${encodeURIComponent(t.name)}`;this.$root.$emit("update-path",e)}}},methods:{intersect(t){this.showBackToTop=!t.isIntersecting},scrollTop(){this.$refs.scrollArea.scrollTop=0},loadProfile(){this.profile={name:this.$t("loading"),id:"",avatar:"",description:""},n["a"].getUserProfile(n["a"].currentCreator.id).then((t=>{this.profile=t}))},onAvatarError(t){t.target.src="platform-assets/linux/512x512.png"},onCreatorAvatarError(){this.isLoadCreatorAvatar=!1},onCreatorAvatarLoaded(t){t.target.src===this.profile.avatar&&(this.isLoadCreatorAvatar=!0)},showChannelDetail(t){const e=Object(c["b"])(t);console.log(e),this.$root.$emit("navigate-to",e),this.$router.push(e)},copyCreatorId(){Object(r["a"])(this.profile.id).then((()=>{this.$q.notify(this.$t("copied"))}))},onFollow(t){console.log("follow",t),this.followedIds.includes(t)?this.$q.dialog({title:this.$t("unfollow"),message:this.$t("unfollow_confirm"),ok:this.$t("unfollow"),cancel:this.$t("cancel")}).onOk((()=>{n["a"].unfollowChannel(t)})):n["a"].followChannel(t)},setSearch(){this.lib.setSearchOption([{label:this.$t("channel_title"),value:"channel"},{label:this.$t("channel_id"),value:"channelID"}])}},beforeRouteEnter(t,e,a){a((t=>{e.path.startsWith("/library")&&(t.setSearch(),n["a"].setCreator(n["a"].currentCreator.id))}))},mounted(){this.setSearch()},activated(){this.loadProfile()}},h=d,p=(a("ec98"),a("2877")),f=a("f09f"),u=a("a370"),v=a("cb32"),C=a("0016"),m=a("2c91"),b=a("9c40"),w=a("05c0"),g=a("b498"),x=a("9748"),q=a("eebe"),_=a.n(q),y=Object(p["a"])(h,i,o,!1,null,"6fc49324",null);e["default"]=y.exports;_()(y,"components",{QCard:f["a"],QCardSection:u["a"],QAvatar:v["a"],QIcon:C["a"],QSpace:m["a"],QBtn:b["a"],QTooltip:w["a"],QColor:g["a"]}),_()(y,"directives",{Intersection:x["a"]})},ec98:function(t,e,a){"use strict";a("96bb")}}]);